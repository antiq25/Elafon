{% extends 'base.html' %}
{% block content %}
{% include 'flash.html' %}
<div class="container-fluid"></div>
        <div class="mt-5 glass p-4">
          <h5 class="display-4 text-center text-primary mb-5">Return Equipment</h1>
                 {% if tech_signouts %}
                <ul class="list-group list-group-flush">
                    {% for signout in tech_signouts %}
                        {% if signout.item %}
                            <li class="list-group-item">{{ signout.item.name }}</li>
                        {% endif %}
                    {% endfor %}
                </ul>
                <form action="{{ url_for('return_item') }}" method="post" class="mt-3">
                    <div class="form-group">
                        <label class="label" for="signout_id">Signout ID:</label>
                        <select id="signout_id" name="signout_id" required class="form-select">
                            <option value="">Select Item to Return</option>
                            {% for signout in tech_signouts %}
                                {% if signout.item %}
                                    <option value="{{ signout.id }}">{{ signout.item.name }}</option>
                                {% endif %}
                            {% endfor %}
                        </select>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary btn-block shadow-sm">Return</button>
                    </div>
                </form>
            {% else %}
                <h4 class="card-title text-center">{{ tech.name }}'s profile</h4>
                <p class="card-text text-center">No signouts found</p>
            {% endif %}
        </div>
    </div>
</div>

{% include 'loader.html' %}

<script>
    document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('loader').style.display = 'block';
    });

    window.addEventListener('load', function() {
        var loader = document.getElementById('loader');
        loader.style.transition = 'opacity 0.5s';
        loader.style.opacity = '0';
        setTimeout(function() {
            loader.style.display = 'none';
        }, 1000);
    });
</script>

{% endblock %}
